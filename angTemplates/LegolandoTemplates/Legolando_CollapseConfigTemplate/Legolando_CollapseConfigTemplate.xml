<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">

    <!-- REQUIRES Legolando_SimpleSquareButtonTemplate TO WORK -->

    <Script file="Legolando_CollapseConfigTemplate.lua"/>

    <!-- 
     GUIDE: After creating the frame inheriting the template, call myFrame:Init(tabNames)
     tabNames - indexed table of names for tabs. Pass nil if you don't want tabs.
      example: 
         local tabNames = {
             [1] = "yo",
             [2] = "ho",
             [3] = "bo"
         }
    -->

    <!-- 
     GUIDE: When adding UI elements, set 'popup' as their parent. To bind UI elements to the tab system, simply set their ID to 
     the tab you want them to be in. 
    -->



    <!-- ____________________________________[1]______________________________________________ -->
    <!--       Templates Ported directly from Blizzard's FrameXML, for classic parity          -->
    <!-- ____________________________________[1]______________________________________________ -->
    <Button name="Legolando_PortedTabSystemButtonArtTemplate_AngleurUnderlight" mixin="Legolando_PortedTabSystemButtonArtMixin_AngleurUnderlight" virtual="true">
        <KeyValues>
        <KeyValue key="isTabOnTop" value="false" type="boolean"/>
        </KeyValues>
        <Layers>
        <Layer level="BACKGROUND">
            <Texture parentKey="LeftActive" atlas="uiframe-activetab-left" useAtlasSize="true" parentArray="RotatedTextures">
            <Anchors>
                <Anchor point="TOPLEFT"/>
            </Anchors>
            </Texture>
            <Texture parentKey="RightActive" atlas="uiframe-activetab-right" useAtlasSize="true" parentArray="RotatedTextures">
            <Anchors>
                <Anchor point="TOPRIGHT" x="7"/>
            </Anchors>
            </Texture>
            <Texture parentKey="MiddleActive" atlas="_uiframe-activetab-center" useAtlasSize="true" horizTile="true" parentArray="RotatedTextures">
            <Anchors>
                <Anchor point="LEFT" relativeKey="$parent.LeftActive" relativePoint="RIGHT"/>
                <Anchor point="RIGHT" relativeKey="$parent.RightActive" relativePoint="LEFT"/>
            </Anchors>
            </Texture>
            <Texture parentKey="Left" atlas="uiframe-tab-left" useAtlasSize="true" parentArray="RotatedTextures">
            <Anchors>
                <Anchor point="TOPLEFT"/>
            </Anchors>
            </Texture>
            <Texture parentKey="Right" atlas="uiframe-tab-right" useAtlasSize="true" parentArray="RotatedTextures">
            <Anchors>
                <Anchor point="TOPRIGHT" x="6"/>
            </Anchors>
            </Texture>
            <Texture parentKey="Middle" atlas="_uiframe-tab-center" useAtlasSize="true" horizTile="true" parentArray="RotatedTextures">
            <Anchors>
                <Anchor point="LEFT" relativeKey="$parent.Left" relativePoint="RIGHT"/>
                <Anchor point="RIGHT" relativeKey="$parent.Right" relativePoint="LEFT"/>
            </Anchors>
            </Texture>
        </Layer>
        <Layer level="HIGHLIGHT">
            <Texture parentKey="LeftHighlight" atlas="uiframe-tab-left" useAtlasSize="true" alphaMode="ADD" alpha="0.4" parentArray="RotatedTextures">
            <Anchors>
                <Anchor point="TOPLEFT" relativeKey="$parent.Left"/>
            </Anchors>
            </Texture>
            <Texture parentKey="MiddleHighlight" atlas="_uiframe-tab-center" useAtlasSize="true" horizTile="true" alphaMode="ADD" alpha="0.4" parentArray="RotatedTextures">
            <Anchors>
                <Anchor point="LEFT" relativeKey="$parent.Middle" relativePoint="LEFT"/>
                <Anchor point="RIGHT" relativeKey="$parent.Middle" relativePoint="RIGHT"/>
            </Anchors>
            </Texture>
            <Texture parentKey="RightHighlight" atlas="uiframe-tab-right" useAtlasSize="true" alphaMode="ADD" alpha="0.4" parentArray="RotatedTextures">
            <Anchors>
                <Anchor point="TOPRIGHT" relativeKey="$parent.Right"/>
            </Anchors>
            </Texture>
        </Layer>
        </Layers>
        <ButtonText parentKey="Text">
        <Size x="0" y="10"/>
        <Anchors>
            <Anchor point="CENTER" x="0" y="2"/>
        </Anchors>
        </ButtonText>
        <NormalFont style="GameFontNormalSmall"/>
        <HighlightFont style="GameFontHighlightSmall"/>
    </Button>

    <Button name="Legolando_PortedTabSystemButtonTemplate_AngleurUnderlight" inherits="Legolando_PortedTabSystemButtonArtTemplate_AngleurUnderlight" mixin="Legolando_PortedTabSystemButtonMixin_AngleurUnderlight" motionScriptsWhileDisabled="true" virtual="true">
        <Size x="10" y="32"/>
        <Scripts>
        <OnEnter method="OnEnter"/>
        <OnLeave method="OnLeave"/>
        <OnClick method="OnClick"/>
        </Scripts>
    </Button>
    
    <Frame name="Legolando_PortedTabSystemTemplate_AngleurUnderlight" mixin="Legolando_PortedTabSystemMixin_AngleurUnderlight" inherits="HorizontalLayoutFrame" virtual="true">
        <KeyValues>
        <!--
        tabSelectedCallback: callback when a tab is selected, passed in the tabID that's generated by AddTab. (tabID) -> nil
        maxTabWidth: max width of a tab, including side textures. nil means no maximum.
        minTabWidth: min width of a tab, including side textures. nil means no minimum.
        tabTemplate: what button template to use for tabs. Must support the behavior from TabSystemButtonMixin.
        spacing: from HorizontalLayoutFrame.
        tabSelectSound: what sound to play when tabs are clicked.
    
        <KeyValue key="tabSelectedCallback" value="..." type="function"/>
        <KeyValue key="minTabWidth" value="60" type="number"/>
        <KeyValue key="maxTabWidth" value="100" type="number"/>
        -->
        <KeyValue key="tabTemplate" value="Legolando_PortedTabSystemButtonTemplate_AngleurUnderlight" type="string"/>
        <KeyValue key="spacing" value="1" type="number"/>
        <KeyValue key="tabSelectSound" value="SOUNDKIT.IG_CHARACTER_INFO_TAB" type="global"/>
        </KeyValues>
        <Scripts>
        <OnLoad method="OnLoad"/>
        </Scripts>
    </Frame>
    <!-- ____________________________________[1]______________________________________________ -->
    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->


    <!-- ____________________________________[2]______________________________________________ -->
    <!--                          Templates made by Legolando                                  -->
    <!-- ____________________________________[2]______________________________________________ -->
    <Button name="Legolando_CollapseConfigTemplate_AngleurUnderlight" mixin="Legolando_CollapseConfigMixin_AngleurUnderlight" inherits="Legolando_SimpleSquareButtonTemplate_AngleurUnderlight" virtual="true">
        <KeyValues>
            <KeyValue key="savedVarTable" value="" type="table"/>
        </KeyValues>
        <Scripts>
            <OnClick>
                if self.popup:IsShown() then
                    self.popup:Hide()
                else
                    self.popup:Show()
                end
            </OnClick>
        </Scripts>
        <Frames>
            <Frame name="$parent_Popup" parentKey="popup" toplevel="true" hidden="true" enableMouse="true">
                <Size x="300" y="150"/>
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPRIGHT" x="0" y="0"/>
                </Anchors>
                <Layers>
                    <Layer level="BACKGROUND">
                        <FontString parentKey="title" inherits="GameFontNormal" text="Template Title">
                            <Anchors>
                                <Anchor point="TOPLEFT" x="18" y="-19"/>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>
                <Frames>
                    <Frame name="$parent_Tabs" parentKey="tabs" inherits="Legolando_PortedTabSystemTemplate_AngleurUnderlight">    
                        <Size x="1" y="1"/>
                        <Anchors>
                            <Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="BOTTOMLEFT" x="8" y="6"/>
                        </Anchors>
                        <KeyValues>
                            <KeyValue key="spacing" value="0.1" type="number"/>
                        </KeyValues>
                    </Frame>
                    <Frame parentKey="Border" inherits="SecureDialogBorderTemplate"/>                   
                    <Button parentKey="$parent.CloseButton" inherits="UIPanelCloseButton">
                        <Anchors>
                            <Anchor point="TOPRIGHT" x="-2" y="-2"/>
                        </Anchors>
                    </Button>
                </Frames>
            </Frame>
        </Frames>
    </Button>
    <!-- ____________________________________[2]______________________________________________ -->
    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
</Ui>